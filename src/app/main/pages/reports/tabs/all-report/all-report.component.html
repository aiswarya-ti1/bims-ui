<div id="timeline" class="p-24" fxLayout="row wrap">
       
    <div class="timeline-content" fxLayout="column" fxFlex="100" fxFlex.gt-sm="55" fxFlex.gt-md="65">
      <div class="profile-box add-post">
      <mat-accordion>
        <mat-expansion-panel>
          <mat-expansion-panel-header class="accent">
            <mat-panel-title class="title" style="color: white; font-weight: bold;">
              Search Report
            </mat-panel-title>
            
          </mat-expansion-panel-header>
      
          <form  [formGroup]="filterForm">

               
               
            <div fxLayout="row" fxLayoutAlign="start start">
                <mat-form-field  appearance="outline" fxFlex="30">
                        <mat-label>Work ID</mat-label>
                        <mat-icon matSuffix class="secondary-text">widgets</mat-icon>
                <input matInput formControlName="workID">
                    
                      </mat-form-field>
                      <mat-form-field appearance="outline" fxFlex="35">
                        <mat-label>Start Date</mat-label>
                        <input matInput [matDatepicker]="picker1" formControlName="startDate" #startDate name="startDate">
                        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                        <mat-datepicker #picker1></mat-datepicker>
                        
                      </mat-form-field> 
                      
                      
                        <mat-form-field appearance="outline" fxFlex="35">
                          <mat-label>End Date</mat-label>
                          <input matInput [matDatepicker]="picker2" formControlName="endDate" #endDate name="endDate">
                          <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                          <mat-datepicker #picker2></mat-datepicker>
                        </mat-form-field> </div>
    
                        <div fxLayout="row" fxLayoutAlign="start start">     
                <mat-form-field  appearance="outline" fxFlex="50">
                    <mat-label>Select Customer</mat-label>
                    <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                <mat-select formControlName="custName">
                    <mat-option *ngFor="let cust of customers" [value]="cust.Customer_ID" class="text-truncate">{{cust.Cust_FirstName}} {{cust.Cust_MidName}} {{cust.Cust_LastName}}</mat-option>
                    
                    </mat-select>
                        
                              </mat-form-field>
      
                     
                        <mat-form-field  appearance="outline" fxFlex="50">
                            <mat-label>Select Associate</mat-label>
                            <mat-icon matSuffix class="secondary-text">person</mat-icon>
                        <mat-select formControlName="assocName">
                            <mat-option *ngFor="let assoc of assocs" [value]="assoc.Assoc_ID" class="text-truncate">{{assoc.Assoc_FirstName}} {{assoc.Assoc_MiddleName}} {{assoc.Assoc_LastName}}</mat-option>
                            
                            </mat-select>
                                
                                      </mat-form-field>
            
                             </div>
                            
                             <div  class="m-0 p-16" fxLayout="row" fxLayoutAlign="end center">
                                <button 
                                mat-raised-button
                                (click)=clearFilter()
                                class="save-button mat-accent"
                                
                                
                                aria-label="UPDATE">
                            Clear Filter
                        </button> &nbsp;

                                <button 
                                        mat-raised-button
                                        (click)=generateReport(filterForm.value)
                                        class="save-button mat-accent"
                                        
                                        
                                        aria-label="UPDATE">
                                    Generate Report
                                </button> 
                              
                          
                                
                            </div>

                       </form>
        </mat-expansion-panel>
       
      </mat-accordion>
    </div>

        <!--<div class="profile-box add-post">

            <header class="accent" fxLayout="row" fxLayoutAlign="space-between center">
               
                
                <div class="title">Search Report</div>
               
            </header>

            <div class="content">
                <form  [formGroup]="filterForm">

               
               
                    <div fxLayout="row" fxLayoutAlign="start start">
                        <mat-form-field  appearance="outline" fxFlex="30">
                                <mat-label>Work ID</mat-label>
                                <mat-icon matSuffix class="secondary-text">widgets</mat-icon>
                        <input matInput formControlName="workID">
                            
                              </mat-form-field>
                              <mat-form-field appearance="outline" fxFlex="35">
                                <mat-label>Start Date</mat-label>
                                <input matInput [matDatepicker]="picker1" formControlName="startDate" #startDate name="startDate">
                                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                <mat-datepicker #picker1></mat-datepicker>
                                
                              </mat-form-field> 
                              
                              
                                <mat-form-field appearance="outline" fxFlex="35">
                                  <mat-label>End Date</mat-label>
                                  <input matInput [matDatepicker]="picker2" formControlName="endDate" #endDate name="endDate">
                                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                  <mat-datepicker #picker2></mat-datepicker>
                                </mat-form-field> </div>
            
                                <div fxLayout="row" fxLayoutAlign="start start">     
                        <mat-form-field  appearance="outline" fxFlex="50">
                            <mat-label>Select Customer</mat-label>
                            <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                        <mat-select formControlName="custName">
                            <mat-option *ngFor="let cust of customers" [value]="cust.Customer_ID" class="text-truncate">{{cust.Cust_FirstName}} {{cust.Cust_MidName}} {{cust.Cust_LastName}}</mat-option>
                            
                            </mat-select>
                                
                                      </mat-form-field>
              
                             
                                <mat-form-field  appearance="outline" fxFlex="50">
                                    <mat-label>Select Associate</mat-label>
                                    <mat-icon matSuffix class="secondary-text">person</mat-icon>
                                <mat-select formControlName="assocName">
                                    <mat-option *ngFor="let assoc of assocs" [value]="assoc.Assoc_ID" class="text-truncate">{{assoc.Assoc_FirstName}} {{assoc.Assoc_MiddleName}} {{assoc.Assoc_LastName}}</mat-option>
                                    
                                    </mat-select>
                                        
                                              </mat-form-field>
                    
                                     </div>
                                    
                                     <div  class="m-0 p-16" fxLayout="row" fxLayoutAlign="end center">
                                        <button 
                                        mat-raised-button
                                        (click)=clearFilter()
                                        class="save-button mat-accent"
                                        
                                        
                                        aria-label="UPDATE">
                                    Clear Filter
                                </button> &nbsp;

                                        <button 
                                                mat-raised-button
                                                (click)=generateReport(filterForm.value)
                                                class="save-button mat-accent"
                                                
                                                
                                                aria-label="UPDATE">
                                            Generate Report
                                        </button> 
                                      
                                  
                                        
                                    </div>

                               </form>
               
            </div>
            

        </div>-->

     

        
    </div>



</div>
<!--<div class="example-container mat-elevation-z8" *ngIf="this.openTable==1">
    <table>
        <tr>
        <th class="text-left">Work ID</th>
        <th class="text-left">Customer</th>
        <th class="text-left">Associate</th>
        <th class="text-left">Date</th>
        <th class="text-left">Debit</th>
        <th class="text-left">Credit</th>
        <th class="text-left">Trans No</th>
    </tr>
    <tr *ngFor="let pay of payments">
        <td>{{pay.Work_ID}}</td>
        <td>{{pay.Cust_FirstName}}</td>
        <td>{{pay.Assoc_FirstName}}</td>
        <td>{{pay.PayDate}}</td>
        <td *ngIf="pay.Rec_Amount">{{pay.Rec_Amount}}</td>
        <td *ngIf="pay.Assoc_Pay || pay.MFee">{{pay.Rec_Amount}}</td>
        <td>{{pay.PayDate}}</td>
        <td>{{pay.PayDate}}</td>
    </tr>
    </table>
</div>-->
<div class="example-container mat-elevation-z8" *ngIf="this.openTable==1">
    <table mat-table [dataSource]="dataSource_Report" matSort>
      
      <ng-container matColumnDef="workID">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> WORK ID </th>
        <td mat-cell *matCellDef="let pay"><span style="font-size: 8px;color: darkblue;" >[{{pay.Work_ID}}]</span><span style="font-size: x-small;"> {{pay.Cust_FirstName}} {{pay.Cust_MidName}} {{pay.Cust_LastName}}</span> 
        <div style="font-size: x-small;color: darkgreen;">{{pay.assoc_FirstName}} {{pay.Assoc_MiddleName}} {{pay.assoc_LastName}}</div></td>
        
      </ng-container>
  
     
      <ng-container matColumnDef="custName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ACCOUNT </th>
        <td mat-cell *matCellDef="let pay"> <span *ngIf="pay.Flag==0">{{pay.Cust_FirstName}} {{pay.Cust_MidName}} {{pay.Cust_LastName}}</span> 
        <span *ngIf="pay.Flag==1 || pay.Flag==2">{{pay.assoc_FirstName}} {{pay.Assoc_MiddleName}} {{pay.assoc_LastName}}</span></td>
        
      </ng-container>
      
      <ng-container matColumnDef="Date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> DATE </th>
        <td mat-cell *matCellDef="let pay"><span  *ngIf="pay.PayDate">{{pay.PayDate | date:'dd/MM/yyyy' }}</span>
          </td>
        
      </ng-container>
      
      <ng-container matColumnDef="Debit">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> PAYMENT </th>
        <td mat-cell *matCellDef="let pay"><span  *ngIf="pay.Flag==1">Rs.{{pay.Amount}} </span>
          <span *ngIf="pay.Flag==2" style="color:darkred">Rs. {{pay.Amount}}</span>
          <div style="font-size: x-small;"  *ngIf="pay.Flag==1 || pay.Flag==2">[{{pay.TransNo}}]</div>
          
       
        
        
      </ng-container>
      
      <ng-container matColumnDef="Credit">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> RECEIPT </th>
        <td mat-cell *matCellDef="let pay"><span *ngIf="pay.Flag==0">Rs. {{pay.Amount}}</span>
          <div style="font-size: x-small;" *ngIf="pay.Flag==0">[{{pay.TransNo}}]</div>
        </td>
        
        
      </ng-container>
      
      
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let pay; columns: displayedColumns;" class="InitiatePayments"></tr>
      
    </table>
    <table class="simple invoice-table-footer">
      <tbody>
          <tr class="subtotal">
              <td>TOTAL CREDIT</td>
              <td>Rs. {{this.Total_Credit}}</td>
          </tr>
          <tr class="subtotal">
                  <td>TOTAL DEBIT</td>
                  <td>Rs. {{this.Total_Debit}}</td>
              </tr>
              <tr class="subtotal">
                <td>BALANCE</td>
                <td>Rs. {{this.Balance}}</td>
            </tr>
         
      </tbody>
  </table>
  </div>
  